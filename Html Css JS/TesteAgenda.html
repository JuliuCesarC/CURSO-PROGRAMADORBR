<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Calendário</title>
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&display=swap");
            @import url("https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap");
        </style>
        <link rel="stylesheet" href="TesteAgenda.css" />
    </head>
    <body>
        <div class="container">
            <div class="Table">
                <header class="Header">
                    <button class="btn-prev" id="Btn-Prev">&lt;</button>
                    <h2 id="month">Outubro</h2>
                    <button class="btn-next" id="Btn-Next">&gt;</button>
                </header>
                <table>
                    <thead>
                        <tr>
                            <td>D</td>
                            <td>S</td>
                            <td>T</td>
                            <td>Q</td>
                            <td>Q</td>
                            <td>S</td>
                            <td>S</td>
                        </tr>
                    </thead>
                    <tbody id="days">
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>2</td>
                            <td>3</td>
                            <td>4</td>
                            <td>5</td>
                            <td>6</td>
                            <td>7</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="7" id="year">2022</td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <div class="Cont">
                <div>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Facilis ut nisi error laborum tenetur officia quod labore
                    incidunt quisquam animi molestias quis quidem, impedit qui
                    illo fugit, totam, eligendi magni.
                </div>
                <div>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Facilis ut nisi error laborum tenetur officia quod labore
                    incidunt quisquam animi molestias quis quidem, impedit qui
                    illo fugit, totam, eligendi magni.
                </div>
                <div>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Facilis ut nisi error laborum tenetur officia quod labore
                    incidunt quisquam animi molestias quis quidem, impedit qui
                    illo fugit, totam, eligendi magni.
                </div>
            </div>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const months = [
                    "janeiro",
                    "fevereiro",
                    "março",
                    "abril",
                    "maio",
                    "junho",
                    "julho",
                    "agosto",
                    "setembro",
                    "outubro",
                    "novembro",
                    "dezembro",
                ];
                const Days = document.getElementById("days");

                function showDays(month, year) {
                    document.getElementById("month").innerHTML = months[month];
                    document.getElementById('year').innerHTML = year

                    let fistDayOfWeek = new Date(year, month, 1).getDay() - 1;
                    let totalDaysInMonth = new Date(
                        year,
                        month + 1,
                        0
                    ).getDate();

                    for (
                        var i = -fistDayOfWeek, index = 0;
                        1 < 42 - fistDayOfWeek && index <= 41;
                        i++, index++
                    ) {
                        let indexDay = new Date(year, month, i);
                        let Now = new Date();
                        let dayTable = Days.getElementsByTagName("td")[index];
                        dayTable.innerHTML = indexDay.getDate();
                        dayTable.classList.remove("prev-month");
                        dayTable.classList.remove("next-month");
                        dayTable.classList.remove("current-day");

                        if (
                            indexDay.getFullYear() == Now.getFullYear() &&
                            indexDay.getMonth() == Now.getMonth() &&
                            indexDay.getDate() == Now.getDate()
                        ){
                            dayTable.classList.add('current-day')
                        }
                            if (i < 1) {
                                dayTable.classList.add("prev-month");
                            }
                        if (i > totalDaysInMonth) {
                            dayTable.classList.add("next-month");
                        }
                    }
                }
                let Now = new Date();
                let month = Now.getMonth();
                let year = Now.getFullYear();
                showDays(month, year);

                const btnPrevMonth = document.getElementById("Btn-Prev");
                const btnNextMonth = document.getElementById("Btn-Next");
                btnNextMonth.onclick = function () {
                    month++;
                    if(month > 11){
                        month = 0
                        year++
                    }
                    showDays(month, year);
                };
                btnPrevMonth.onclick = function () {
                    month--;
                    if(month<0){
                        month = 11;
                        year--
                    }
                    showDays(month, year);
                };
            });
        </script>
    </body>
</html>
